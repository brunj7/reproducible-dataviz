---
title: "Reproducible Data Visualization"
subtitle: "with `Rmarkdown` and `ggplot2`"
author: "Julien Brun and Lauren Hallett"
date: "LTER ASM, 2018-10-01"
output:
  xaringan::moon_reader:
    lib_dir: libs
    # chakra: "libs/remark-latest.min.js"
    css: ["my-theme.css", "libs/remark-css/default-fonts.css"]
    nature:
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
---

```{r setup, include=FALSE}
options(htmltools.dir.version = FALSE)
```


background-image: url(https://lternet.edu/wp-content/uploads/2018/02/LTER-network-horizontal.png)
background-position: center
background-size: contain 
class: center
## _please close your laptop_
---


# Brainstorming

.xlarge[
- What is **Reproducible Science** and why should we care?

- What could I do to make my science more reproducible ?

- How do you use data visualization ?
]

---

# Workshop 

.xlarge[
- Please speak up: **questions**,  **own tips**!!

- Use your **sticky notes** to tell us _how you are doing_
]

--
.xlarge[
- Keep it fun!
<img src="images/stickynotes.png", align="right", width="60%" />
]

---
class: inverse, center, middle

# Let's do it !!

## _please open your laptop_

---
background-image: url(images/hex-rmarkdown.png)
background-position: center
background-size: contain

---
# Workshop material

.xlarge[

http://bit.ly/ASM18_DataViz

]

---

<img align="right" src="images/hex-rmarkdown.png" width="15%" />
## Why R markdown (and friends) can help 

.large[
- Combine code and documentation in **one** document/file  
_Promote literate programming_

- Help to generate compelling documents  
_reports, journal articles, presentations, ..._

- Easy to share through various formats  
_websites, blogs, dashboards, interactive visualizations_

- Can even let you run other scripting languages  
_Python, SQL, ..._
]
<img align="right" src="images/jupyter.png" width="15%" /> 


---

## What can you do with R Markdown ?

.large[

- Document extensively your analysis

- Share results (figures and tables)

- Let others execute and modify your code

- Create interactive documents

- Create websites and blogs

- Write journal articles and Books
]
<img align="right" src="images/hex-rmarkdown.png" width="15%">
--
.large[
- Make presentations like this one!!
]

---
class: center, middle

### R Markdown has a dynamic community !!

.large[New template: `radix`]

<img src="images/rmarkdown-radix.png" width="65%">

---

### Create our First R Markdown Document

- From `Rstudio` create a new R Markdown document:  
`File -> New File -> R Markdown`

- Keep the default options and fill up the `Title` and `Author` fields

.center[<img src="images/create-rmarkdown.png"  alt="New R Markdown" height="320" />]

.footnote[
_Note: In this workshop we will use the [RStudio IDE](https://www.rstudio.com/products/rstudio/), but you do not have to !_
]

---

## Create our First R Markdown Document

.xlarge[

- Click the `Knit` button to render the document
]
<br>

.center[![](images/knit-button.png)]


---
class: inverse, center, middle

# How does this work ?!

---

## R Markdown Document Structure

<img align="right" src="images/rmarkdown-doc-structure.png" width="40%" />

.pull-left[.large[
3 basic components 
  - **Metadata**  
  _(`YAML` Ain't Markup Language)_
  
  - **Text** for documentation  
  _(`markdown` + other few tricks)_
  
  - **Code (chunks)** with your anlaysis 
  _(`R` and friends)_
]]

---

<img align="right" src="images/markdown-logo.png" width="20%" />

# Markdown

.large[
`Markdown` is a simple (read easy to use) **text-based markup** for creating easy to read documents to be converted to `HTML`, `PDF`, `docx` and other formats. 

Document styles can be customised with `HTML/CSS` and math notation can be included using `LaTeX` or `mathjax`. 
]

--
.large[
```
$\bar{X}=\frac{1}{n}\sum_{i=1}^nX_i$
```
$\bar{X}=\frac{1}{n}\sum_{i=1}^nX_i$
]

<br>

.footnote[
_From: [RopenSci reproducibility guide](http://ropensci.github.io/reproducibility-guide/sections/tools/)_
]

---

## the **R** flavor

.large[
`R Markdown`: An _enhanced_ flavor of `Markdown` that recognizes _**`R` code chunks**_, which allows the embedding of R directly into a Markdown document to create dynamic and reproducible documents. 
]
<br>
<br>
<br>
<br>
<br>
<br>

.footnote[
_From: [RopenSci reproducibility guide](http://ropensci.github.io/reproducibility-guide/sections/tools/)_
]


---

# Chunk options - What to show 

- **eval**: if `eval = FALSE` code chunk will not be evaluated when knitted 

- **warning**, **message**, and **error**: will hide warnings, messages, and errors in the output document when set to `FALSE`.   
Note that these messages will be shown in the R console.

- **include**: When `include = FALSE`, this whole code chunk is excluded in the output document.  
Note equivalent of `echo = FALSE`, `results = 'hide'`, `warning = FALSE`, and `message = FALSE`

- **echo**: Whether to echo the source code in the output document (useful to hide code generating plots)

- **results**: When set to 'hide', text output will be hidden; when set to 'asis', text output is written “as-is” with no rendering.


